library(shiny)
library(shinythemes)
library(tidyverse)
library(leaflet)
library(RColorBrewer)
library(viridis)
library(DT)
library(sf)

## opposite of %in%
`%notin%` <- function(lhs, rhs) !(lhs %in% rhs)

## Force vector to be between 0 and 1
range01 <- function(x, ...){(x - min(x, ...)) / (max(x, ...) - min(x, ...))}

vulnerability_data <- readRDS("acs_vuln_weighting_data.rds")


## TODO re-run calculate_vulnerability.R and re-link here
# vulnerability_by_year <- readRDS("vulnerability_table_20201210.rds") %>% 
#   st_drop_geometry() %>%
#   select(GEOID, year, is_vuln_v1, vuln_2000_v1)